class CustomerMailer < ApplicationMailer

  
  default from: 'notifications@Ticketwiz.com'
  after_deliver :mark_delivered

  def welcome_email
    @customer = params[:customer]
    @url  = 'http://TicketWiz.com/login'
    mail(to: @customer.email, subject: 'Welcome to My Awesome Site')

    mail(to: @customer.email,
       subject: "Please see the Terms and Conditions attached",
       delivery_method_options: delivery_options)
    end

    private
    def mark_delivered
      params[:feedback].touch(:delivered_at)
    end
end
